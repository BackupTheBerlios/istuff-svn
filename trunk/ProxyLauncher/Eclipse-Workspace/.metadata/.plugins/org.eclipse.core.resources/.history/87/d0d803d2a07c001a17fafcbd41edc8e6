import java.io.BufferedReader;
import java.io.File;
import java.io.IOException;
import java.io.InputStreamReader;

public class ProxyThread extends Thread implements Runnable{

	private String _className;
	private File _env;
	private Process _process;
	private String _eventHeap;
	
	public ProxyThread (String className, File env, String eventHeap){
		_className = className;
		_env = env;
		_eventHeap = eventHeap;
	}
	
	public void run() {
		String line;
	try {
		System.out.println("VOR DER AUSFÜHRUNG " + _className);
		String cmd = "java -classpath ../../Lib/iROS.jar;. ".concat(_className).concat(_eventHeap);; 	
		//String cmd = "java -classpath ../../Lib/iROS.jar;. "+ _className + " localhost";
			_process = Runtime.getRuntime().exec(cmd, null, _env);
			BufferedReader input = 
			       new BufferedReader
			         (new InputStreamReader(_process.getInputStream()));
			     while ((line = input.readLine()) != null) {
			       System.out.println(line);
			       }
		} catch (IOException e) {
		}
	}

	public void kill() {
		_process.destroy();
	}
}
