import java.io.File;
import java.io.IOException;
import java.util.List;
import java.util.ListIterator;

import org.jdom.Document;
import org.jdom.Element;
import org.jdom.JDOMException;
import org.jdom.input.SAXBuilder;

public class ConfigDataHolder {
	
	
	public static File[] getProxyTree () {
		Document docWithConfig = new Document();
		SAXBuilder builder = new SAXBuilder();
		Element xmlRoot = null;
		try {
			// Load the configuration file
			File configFile = new File("configStarter.xml");
			docWithConfig = builder.build(configFile);
			xmlRoot = docWithConfig.getRootElement();
			System.out.println("Processing XML - file");
		} catch (JDOMException e) {
			e.printStackTrace();
			System.out.println("Error while accessing XML file");
		} 
		catch (IOException e) {
			System.out.println("No configFile found. New file created");
		}
		
		// Now construct the proxyTree from the specified search directories
		if (xmlRoot != null) {
			Element searchDirs = xmlRoot.getChild("SearchDirectories");
			List<Element> xmlElements = searchDirs.getChildren();
			for (ListIterator<Element> xmlIterator = xmlElements.listIterator(); xmlIterator
					.hasNext();) {
				Element currentElement = xmlIterator.next();
				File searchDirectory = new File(currentElement.getValue());
				System.out.print(searchDirectory);
				
			}			
				return null;
	
	

		}
}
}

