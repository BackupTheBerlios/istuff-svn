
PATH=C:\dev\Symbian\7.0s\Series60_v21\\epoc32\tools\;C:\dev\Symbian\7.0s\Series60_v21\\epoc32\gcc\bin\;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\IDE;c:\Program Files\Microsoft Visual Studio .NET 2003\VC7\BIN;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin\prerelease;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin;c:\Program Files\Microsoft Visual Studio .NET 2003\SDK\v1.1\bin;c:\WINDOWS\Microsoft.NET\Framework\v1.1.4322;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\IDE;c:\Program Files\Microsoft Visual Studio .NET 2003\VC7\BIN;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin\prerelease;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin;c:\Program Files\Microsoft Visual Studio .NET 2003\SDK\v1.1\bin;c:\WINDOWS\Microsoft.NET\Framework\v1.1.4322;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\IDE;c:\Program Files\Microsoft Visual Studio .NET 2003\VC7\BIN;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin\prerelease;c:\Program Files\Microsoft Visual Studio .NET 2003\Common7\Tools\bin;c:\Program Files\Microsoft Visual Studio .NET 2003\SDK\v1.1\bin;c:\WINDOWS\Microsoft.NET\Framework\v1.1.4322;C:\texmf\miktex\bin;C:\Program Files\Common Files\Symbian\tools;C:\dev\Symbian\6.1\Shared\epoc32\gcc\bin;C:\dev\Symbian\6.1\Shared\epoc32\tools;C:\cygwin\bin;c:\Perl\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\ATI Technologies\ATI Control Panel;C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin;c:\Program Files\Java\jdk1.5.0_02\bin;C:\dev\Symbian\8.0a\S60_2nd_FP2\epoc32\gcc\bin;C:\dev\Symbian\8.0a\S60_2nd_FP2\epoc32\tools;C:\Program Files\Subversion\bin;C:\Documents and Settings\jenabi\My Documents\sandbox\trunk\Event Heap\c++\Windows\bin;C:\Program Files\QuickTime\QTSystem\;C:\dev\Symbian\6.0\Shared\epoc32\tools;C:\dev\Symbian\6.0\Shared\epoc32\gcc\bin;;;;

# EPOC DEFINITIONS

EPOCBLD = \dev\Symbian\7.0s\Series60_v21\EPOC32\BUILD\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP\ISTUFFMOBILE\WINS\ #
EPOCTRG = \dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\ #
EPOCLIB = \dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\ #
EPOCLINK = \dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\ #
EPOCSTATLINK = \dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\ #

EPOCBLDUDEB = $(EPOCBLD)UDEB
EPOCTRGUDEB = $(EPOCTRG)UDEB
EPOCLIBUDEB = $(EPOCLIB)UDEB
EPOCLINKUDEB = $(EPOCLINK)UDEB
EPOCSTATLINKUDEB = $(EPOCSTATLINK)UDEB

EPOCBLDUREL = $(EPOCBLD)UREL
EPOCTRGUREL = $(EPOCTRG)UREL
EPOCLIBUREL = $(EPOCLIB)UDEB
EPOCLINKUREL = $(EPOCLINK)UDEB
EPOCSTATLINKUREL = $(EPOCSTATLINK)UREL


TRGDIR = Z\SYSTEM\APPS\ISTUFFMOBILE

DATADIR = Z\SYSTEM\DATA

LIBRARY :

MAKEWORKLIBRARY : "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB" :
	@perl -S emkdir.pl "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB"


# BUILD - UDEB

LIBS= \
	"$(EPOCLINKUDEB)\EUSER.LIB" \
	"$(EPOCLINKUDEB)\APPARC.LIB" \
	"$(EPOCLINKUDEB)\CONE.LIB" \
	"$(EPOCLINKUDEB)\EIKCORE.LIB" \
	"$(EPOCLINKUDEB)\APGRFX.LIB" \
	"$(EPOCLINKUDEB)\ESOCK.LIB" \
	"$(EPOCLINKUDEB)\BTEXTNOTIFIERS.LIB" \
	"$(EPOCLINKUDEB)\BAFL.LIB" \
	"$(EPOCLINKUDEB)\EIKCOCTL.LIB" \
	"$(EPOCLINKUDEB)\AVKON.LIB" \
	"$(EPOCLINKUDEB)\WS32.LIB" \
	"$(EPOCLINKUDEB)\BLUETOOTH.LIB" \
	"$(EPOCLINKUDEB)\FLOGGER.LIB" \
	"$(EPOCLINKUDEB)\MEDIACLIENTAUDIO.LIB" \
	"$(EPOCLINKUDEB)\VIBRACTRL.LIB"

LINK_OBJS= \
	"$(EPOCBLDUDEB)\CODELISTENER.obj" \
	"$(EPOCBLDUDEB)\ISTUFFMOBILE.UID.obj" \
	"$(EPOCBLDUDEB)\ISTUFFMOBILEAPP.obj" \
	"$(EPOCBLDUDEB)\ISTUFFMOBILEAPPUI.obj" \
	"$(EPOCBLDUDEB)\ISTUFFMOBILECONTAINER.obj" \
	"$(EPOCBLDUDEB)\ISTUFFMOBILEDOCUMENT.obj" \
	"$(EPOCBLDUDEB)\KEYLISTENER.obj" \
	"$(EPOCBLDUDEB)\SOUNDPLAYER.obj"

STAGE1_LINK_FLAGS="$(EPOCSTATLINKUDEB)\EDLL.LIB" \
 $(LIBS) /nologo /entry:"_E32Dll" /subsystem:windows /dll /debug \
 /incremental:no /machine:IX86 /nodefaultlib /include:"?_E32Dll@@YGHPAXI0@Z" /out:"$(EPOCBLDUDEB)\ISTUFFMOBILE.APP" /WARN:3

PRELINKUDEB : $(LINK_OBJS) "$(EPOCSTATLINKUDEB)\EDLL.LIB" $(LIBS)
	link.exe @<<
		$(STAGE1_LINK_FLAGS) $(LINK_OBJS)
<<
	del "$(EPOCBLDUDEB)\ISTUFFMOBILE.APP"
	del "$(EPOCBLDUDEB)\ISTUFFMOBILE.exp"
	dumpbin /exports /out:"$(EPOCBLDUDEB)\ISTUFFMOBILE.inf" "$(EPOCBLDUDEB)\ISTUFFMOBILE.lib"
	del "$(EPOCBLDUDEB)\ISTUFFMOBILE.lib"
	perl -S makedef.pl -Inffile "$(EPOCBLDUDEB)\ISTUFFMOBILE.inf" -1 ?NewApplication@@YAPAVCApaApplication@@XZ "$(EPOCBLD)ISTUFFMOBILE.def" 
	del "$(EPOCBLDUDEB)\ISTUFFMOBILE.inf"
	lib.exe  /nologo /machine:i386 /nodefaultlib /name:"ISTUFFMOBILE.APP" /def:"$(EPOCBLD)ISTUFFMOBILE.def" /out:"$(EPOCBLDUDEB)\ISTUFFMOBILE.lib"
	del "$(EPOCBLDUDEB)\ISTUFFMOBILE.lib"
	@echo First-stage link successful


STOPLINKUDEB : DELEXPOBJUDEB
	@echo Stopped the build by removing the export object,
	@echo if present, because the pre-link stage failed


POSTBUILDUDEB : DELEXPOBJUDEB


DELEXPOBJUDEB :
	if exist "$(EPOCBLDUDEB)\ISTUFFMOBILE.exp" del "$(EPOCBLDUDEB)\ISTUFFMOBILE.exp"



# BUILD - UREL

LIBS= \
	"$(EPOCLINKUREL)\EUSER.LIB" \
	"$(EPOCLINKUREL)\APPARC.LIB" \
	"$(EPOCLINKUREL)\CONE.LIB" \
	"$(EPOCLINKUREL)\EIKCORE.LIB" \
	"$(EPOCLINKUREL)\APGRFX.LIB" \
	"$(EPOCLINKUREL)\ESOCK.LIB" \
	"$(EPOCLINKUREL)\BTEXTNOTIFIERS.LIB" \
	"$(EPOCLINKUREL)\BAFL.LIB" \
	"$(EPOCLINKUREL)\EIKCOCTL.LIB" \
	"$(EPOCLINKUREL)\AVKON.LIB" \
	"$(EPOCLINKUREL)\WS32.LIB" \
	"$(EPOCLINKUREL)\BLUETOOTH.LIB" \
	"$(EPOCLINKUREL)\FLOGGER.LIB" \
	"$(EPOCLINKUREL)\MEDIACLIENTAUDIO.LIB" \
	"$(EPOCLINKUREL)\VIBRACTRL.LIB"

LINK_OBJS= \
	"$(EPOCBLDUREL)\CODELISTENER.obj" \
	"$(EPOCBLDUREL)\ISTUFFMOBILE.UID.obj" \
	"$(EPOCBLDUREL)\ISTUFFMOBILEAPP.obj" \
	"$(EPOCBLDUREL)\ISTUFFMOBILEAPPUI.obj" \
	"$(EPOCBLDUREL)\ISTUFFMOBILECONTAINER.obj" \
	"$(EPOCBLDUREL)\ISTUFFMOBILEDOCUMENT.obj" \
	"$(EPOCBLDUREL)\KEYLISTENER.obj" \
	"$(EPOCBLDUREL)\SOUNDPLAYER.obj"

STAGE1_LINK_FLAGS="$(EPOCSTATLINKUREL)\EDLL.LIB" \
 $(LIBS) /nologo /entry:"_E32Dll" /subsystem:windows /dll \
 /incremental:no /machine:IX86 /nodefaultlib /include:"?_E32Dll@@YGHPAXI0@Z" /out:"$(EPOCBLDUREL)\ISTUFFMOBILE.APP" /WARN:3

PRELINKUREL : $(LINK_OBJS) "$(EPOCSTATLINKUREL)\EDLL.LIB" $(LIBS)
	link.exe @<<
		$(STAGE1_LINK_FLAGS) $(LINK_OBJS)
<<
	del "$(EPOCBLDUREL)\ISTUFFMOBILE.APP"
	del "$(EPOCBLDUREL)\ISTUFFMOBILE.exp"
	dumpbin /exports /out:"$(EPOCBLDUREL)\ISTUFFMOBILE.inf" "$(EPOCBLDUREL)\ISTUFFMOBILE.lib"
	del "$(EPOCBLDUREL)\ISTUFFMOBILE.lib"
	perl -S makedef.pl -Inffile "$(EPOCBLDUREL)\ISTUFFMOBILE.inf" -1 ?NewApplication@@YAPAVCApaApplication@@XZ "$(EPOCBLD)ISTUFFMOBILE.def" 
	del "$(EPOCBLDUREL)\ISTUFFMOBILE.inf"
	lib.exe  /nologo /machine:i386 /nodefaultlib /name:"ISTUFFMOBILE.APP" /def:"$(EPOCBLD)ISTUFFMOBILE.def" /out:"$(EPOCBLDUREL)\ISTUFFMOBILE.lib"
	del "$(EPOCBLDUREL)\ISTUFFMOBILE.lib"
	@echo First-stage link successful


STOPLINKUREL : DELEXPOBJUREL
	@echo Stopped the build by removing the export object,
	@echo if present, because the pre-link stage failed


POSTBUILDUREL : DELEXPOBJUREL


DELEXPOBJUREL :
	if exist "$(EPOCBLDUREL)\ISTUFFMOBILE.exp" del "$(EPOCBLDUREL)\ISTUFFMOBILE.exp"



DEPEND= \
	"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC\ISTUFFMOBILE.HRH" \
	"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC\ISTUFFMOBILE.LOC"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.r" : "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy" : "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile.rss" $(DEPEND)
	perl -S epocrc.pl -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC" -I- -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE" -DLANGUAGE_SC -u "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile.rss" -o"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC" -h"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~" -t"$(EPOCBLDUDEB)"
	echo this is a dummy output file > "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy"
	perl -S ecopyfile.pl "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~" "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE\ISTUFFMOBILE.RSG"
	del "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.r" : "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy" : "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile.rss" $(DEPEND)
	perl -S epocrc.pl -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC" -I- -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE" -DLANGUAGE_SC -u "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile.rss" -o"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC" -h"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~" -t"$(EPOCBLDUREL)"
	echo this is a dummy output file > "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE.rSC.dummy"
	perl -S ecopyfile.pl "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~" "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE\ISTUFFMOBILE.RSG"
	del "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE.rs~"

DEPEND= \
	"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC\ISTUFFMOBILE.LOC"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.r" : "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy" : "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile_caption.rss" $(DEPEND)
	perl -S epocrc.pl -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC" -I- -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE" -DLANGUAGE_SC -u "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile_caption.rss" -o"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC" -h"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~" -t"$(EPOCBLDUDEB)"
	echo this is a dummy output file > "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UDEB\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy"
	perl -S ecopyfile.pl "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~" "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE\ISTUFFMOBILE_CAPTION.RSG"
	del "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.r" : "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy"

"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy" : "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile_caption.rss" $(DEPEND)
	perl -S epocrc.pl -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\INC" -I- -I "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP" -I "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE" -DLANGUAGE_SC -u "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\Istuffmobile_caption.rss" -o"\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC" -h"\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~" -t"$(EPOCBLDUREL)"
	echo this is a dummy output file > "\dev\Symbian\7.0s\Series60_v21\EPOC32\RELEASE\WINS\UREL\Z\SYSTEM\APPS\ISTUFFMOBILE\ISTUFFMOBILE_CAPTION.rSC.dummy"
	perl -S ecopyfile.pl "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~" "\dev\Symbian\7.0s\Series60_v21\EPOC32\INCLUDE\ISTUFFMOBILE_CAPTION.RSG"
	del "\DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\DATA\ISTUFFMOBILE_CAPTION.rs~"


RECREATEWORKSPACE :
	cd \DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP
	perl -S makmake.pl -D \DEV\SYMBIAN\PROJECTS\ISTUFFMOBILE\GROUP\ISTUFFMOBILE.MMP VC7

