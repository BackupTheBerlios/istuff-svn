<html>
<head>
 
<title>TELEO APPLICATION SDK</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="code.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="619ec3" vlink="619ec3" alink="619ec3">

<table width="100%" border="0" cellspacing="0" cellpadding="-1">
  <tr> 
    <td width="1%" rowspan="2" bgcolor="#FFFFFF" valign="top"><a href="/index.htm"><img src="images/logo_header_blue.jpg" width="263" height="123" border="0"></a></td>
    <td height="109" bgcolor="395e7a" width="100%" valign="bottom" align="left"> 
      <p>&nbsp;</p>
      <table width="100%" border="0">
        <tr> 
          <td width="20%" height="20" class="medium_bold"> 
            <div align="center">
              <font color="619ec3" class="medium_bold"><a href="http://www.makingthings.com/home.htm">HOME</a></font>
            </div>
          </td>
          <td width="20%" height="20" class="medium_bold"> 
            <div align="center"><font color="619ec3" class="medium_bold"><a href="http://www.makingthings.com/projects.htm">PROJECTS</a></font></div>
          </td>
          <td width="20%" height="20" class="medium_bold"> 
            <div align="center"><font color="#FFFFFF" class="medium_bold"><b class="medium_bold">PRODUCTS</b></font></div>
          </td>
          <td width="20%" class="medium_bold" height="20"> 
            <div align="center"><font color="619ec3" class="medium_bold"><a href="http://www.makingthings.com/services.htm">SERVICES</a></font></div>
          </td>
          <td width="20%" class="medium_bold" height="20"> 
            <div align="center"><font color="619ec3" class="medium_bold"><a href="http://www.makingthings.com/news/news.htm">NEWS</a></font></div>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr> 
    <td width="100%" height="15">&nbsp;</td>
  </tr>
  <tr align="left" valign="middle"> 
    <td colspan="2"></td>
  </tr>
</table> 
<br>
<hr>

<font face="Arial, Helvetica, sans-serif" size="2">


<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>
<hr><h1>TeleoChannel.h File Reference</h1>Channel API. 
<a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="TeleoTypes_8h-source.html">TeleoTypes.h</a>"</code><br>
<code>#include "<a class="el" href="TeleoError_8h-source.html">TeleoError.h</a>"</code><br>

<p>
<a href="TeleoChannel_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structTeleoChannel.html">TeleoChannel</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Teleo Channel.</em> <a href="structTeleoChannel.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structTeleoMessage.html">TeleoMessage</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Teleo Message Data Structure.</em> <a href="structTeleoMessage.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a0">MODULE_ADDRESS_RESERVED</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a1">MODULE_ADDRESS_BROADCAST</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a2">MODULE_ADDRESS_MAX</a>&nbsp;&nbsp;&nbsp;63</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a3">TM_DATAMAX</a>&nbsp;&nbsp;&nbsp;20</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Maximum message data size.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a4">TC_Create</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> **tc)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create the Channel.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a5">TC_destroy</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destroy the Channel.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a6">TC_receiveCallbackSet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*receive)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, void *tcExt, <a class="el" href="structTeleoMessage.html">TeleoMessage</a> *message))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Declare the receive callback.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a7">TC_externalReferenceSet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, void *tcExt)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Assigns the external reference used in non-system callbacks.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a8">TC_timerRequestCallbackSet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*timerRequest)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a10">bool</a> enable))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the timerRequest callback.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a9">TC_outputCallbackSet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*output)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a3">uint8</a> *c, <a class="el" href="TeleoTypes_8h.html#a3">uint8</a> count))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the output callback.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a10">TC_channelNameGet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a9">cchar</a> **channelName)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Call this to get the channel name.</em> <a href="#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a11">TC_channelNameSet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a9">cchar</a> *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Call this to set the channel name.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a12">TC_input</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a3">uint8</a> c)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Informs the Channel of a new incoming character.</em> <a href="#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a13">TC_send</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a10">bool</a> reliable, <a class="el" href="structTeleoMessage.html">TeleoMessage</a> *message)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Requests a message be sent.</em> <a href="#a13"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a14">TC_dummySend</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Requests a dummy message be sent - usually to ensure the interface is in binary mode.</em> <a href="#a14"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a15">TC_sendQueueSizeGet</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, int *size)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Provides a way to monitor the size of the queue of messages waiting to be sent.</em> <a href="#a15"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a16">TC_sendQueueEnable</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a10">bool</a> enable)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Enable the queuing of unsuccessful outgoing messages.</em> <a href="#a16"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>&nbsp;</td><td valign=bottom><a class="el" href="TeleoChannel_8h.html#a17">TC_timerEvent</a> (<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, int ms)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Timer event raised.</em> <a href="#a17"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Channel API.
<p>
Contains the structures, definitions and functions for the Teleo Channel.<p>
The Channel is responsible for receiving raw characters from the OS, which involves parsing and checking them and packaging them up as messages. The Channel also converts messages into raw character streams and sends them out to the OS.<p>
Unlike the other layers of the Teleo API, the Channel has two callback structures - one similar to that of the Module Manager and the Device Manager and one System structure used for making callbacks into the lower level functions of the interface.<p>
The code is designed to function with or without a rapid (i.e. 10ms) timer callback. If the application can provide this service, there are benefits for the incoming and outgoing functionality. One problem with a character driven parser is if characters are dropped, the parser can sit waiting for them until the next packet is started. The first few bytes of the next packet cause the parser to detect the error. But unfortunately the next message is lost. The timer helps by noting when the parser has been sitting for a while and reseting it. The timers help with outgoing messages (providing the send message queue is enabled) by providing a re-try mechanism in the case of a message failing to be sent. If neither of these things are important the timer can be left unimplemented.
<p>
Definition in file <a class="el" href="TeleoChannel_8h-source.html">TeleoChannel.h</a>.<hr><h2>Define Documentation</h2>
<a name="a1" doxytag="TeleoChannel.h::MODULE_ADDRESS_BROADCAST"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MODULE_ADDRESS_BROADCAST&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="TeleoChannel_8h-source.html#l00107">107</a> of file <a class="el" href="TeleoChannel_8h-source.html">TeleoChannel.h</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="TeleoChannel.h::MODULE_ADDRESS_MAX"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MODULE_ADDRESS_MAX&nbsp;&nbsp;&nbsp;63
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="TeleoChannel_8h-source.html#l00108">108</a> of file <a class="el" href="TeleoChannel_8h-source.html">TeleoChannel.h</a>.    </td>
  </tr>
</table>
<a name="a0" doxytag="TeleoChannel.h::MODULE_ADDRESS_RESERVED"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MODULE_ADDRESS_RESERVED&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="TeleoChannel_8h-source.html#l00106">106</a> of file <a class="el" href="TeleoChannel_8h-source.html">TeleoChannel.h</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="TeleoChannel.h::TM_DATAMAX"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TM_DATAMAX&nbsp;&nbsp;&nbsp;20
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Maximum message data size.
<p>

<p>
Definition at line <a class="el" href="TeleoChannel_8h-source.html#l00111">111</a> of file <a class="el" href="TeleoChannel_8h-source.html">TeleoChannel.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a10" doxytag="TeleoChannel.h::TC_channelNameGet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_channelNameGet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoTypes_8h.html#a9">cchar</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>channelName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call this to get the channel name.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>Channel </td></tr>
    <tr><td valign=top><em>channelName</em>&nbsp;</td><td>return variable </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or error code </dd></dl>
    </td>
  </tr>
</table>
<a name="a11" doxytag="TeleoChannel.h::TC_channelNameSet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_channelNameSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoTypes_8h.html#a9">cchar</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call this to set the channel name.
<p>
The string is duplicated so no problems arise from the original disappearing. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>Channel </td></tr>
    <tr><td valign=top><em>name</em>&nbsp;</td><td>new name for the channel </td></tr>
  </table>
</dl>

<p>
Referenced by <a class="el" href="TeleoEasyLinux_8c-source.html#l00061">TeleoEasy_Init()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00060">TeleoModule_Init()</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="TeleoChannel.h::TC_Create"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_Create </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>tc</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create the Channel.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>pointer to <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or error code </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>, <a class="el" href="TeleoEasyLinux_8c-source.html#l00061">TeleoEasy_Init()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00060">TeleoModule_Init()</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="TeleoChannel.h::TC_destroy"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_destroy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>tc</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy the Channel.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the Channel </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK or a Teleo Error (see <a class="el" href="TeleoError_8h.html">TeleoError.h</a>) </dd></dl>

<p>
Referenced by <a class="el" href="TeleoEasyWin32_8c-source.html#l00110">TeleoEasy_destroy()</a>, <a class="el" href="TeleoEasyLinux_8c-source.html#l00111">TeleoEasy_End()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00098">TeleoModule_End()</a>.    </td>
  </tr>
</table>
<a name="a14" doxytag="TeleoChannel.h::TC_dummySend"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_dummySend </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>tc</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Requests a dummy message be sent - usually to ensure the interface is in binary mode.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK or a Teleo Error (see <a class="el" href="TeleoError_8h.html">TeleoError.h</a>) </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>, and <a class="el" href="TeleoEasyLinux_8c-source.html#l00061">TeleoEasy_Init()</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="TeleoChannel.h::TC_externalReferenceSet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_externalReferenceSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tcExt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Assigns the external reference used in non-system callbacks.
<p>
This is useful in situations where there are several Channels running (on multiple USB ports, for example) so callbacks do not have to perform a lookup or search operation to identify their owners. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>tcExt</em>&nbsp;</td><td>the external reference </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a12" doxytag="TeleoChannel.h::TC_input"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_input </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoTypes_8h.html#a3">uint8</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>c</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Informs the Channel of a new incoming character.
<p>
This simple appearing call may be quite complex in the case where the incoming character is the final one of a well formed message. In this case the Channel will package the message up into a <a class="el" href="structTeleoMessage.html">TeleoMessage</a> and invoke its <a class="el" href="TeleoChannelTest_8c.html#a8">receive()</a> callback function. When this message is received, other steps might need to be taken and so on. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>c</em>&nbsp;</td><td>the incoming character </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK or a Teleo Error (see <a class="el" href="TeleoError_8h.html">TeleoError.h</a>) </dd></dl>

<p>
Referenced by <a class="el" href="TeleoEasyLinux_8c-source.html#l00168">doInput()</a>, and <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="TeleoChannel.h::TC_outputCallbackSet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_outputCallbackSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>output</em>)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a3">uint8</a> *c, <a class="el" href="TeleoTypes_8h.html#a3">uint8</a> count)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the output callback.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the Channel </td></tr>
    <tr><td valign=top><em>output</em>&nbsp;</td><td>output function pointer </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or error code </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>, <a class="el" href="TeleoEasyLinux_8c-source.html#l00061">TeleoEasy_Init()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00060">TeleoModule_Init()</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="TeleoChannel.h::TC_receiveCallbackSet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_receiveCallbackSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>receive</em>)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, void *tcExt, <a class="el" href="structTeleoMessage.html">TeleoMessage</a> *message)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Declare the receive callback.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td><a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>receive</em>&nbsp;</td><td>the receive function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or error code </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>.    </td>
  </tr>
</table>
<a name="a13" doxytag="TeleoChannel.h::TC_send"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_send </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoTypes_8h.html#a10">bool</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reliable</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structTeleoMessage.html">TeleoMessage</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>message</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Requests a message be sent.
<p>
The Channel will format the message into the correct character stream and attempt to send it using the <a class="el" href="TeleoEasyLinux_8c.html#a11">output( )</a> system callback. If the send queue is enabled (see <a class="el" href="TeleoChannel_8h.html#a16">TC_sendQueueEnable( )</a> ) and there is a problem sending the data, the whole message will be queued. When the next timer tick is received, the send will be attempted again. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>message</em>&nbsp;</td><td><a class="el" href="structTeleoMessage.html">TeleoMessage</a> to be sent </td></tr>
    <tr><td valign=top><em>reliable</em>&nbsp;</td><td>whether the message should be sent via the reliable system </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK or a Teleo Error (see <a class="el" href="TeleoError_8h.html">TeleoError.h</a>) </dd></dl>
    </td>
  </tr>
</table>
<a name="a16" doxytag="TeleoChannel.h::TC_sendQueueEnable"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_sendQueueEnable </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoTypes_8h.html#a10">bool</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>enable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable the queuing of unsuccessful outgoing messages.
<p>
This will require timer events be implemented <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>enable</em>&nbsp;</td><td>queing on or off </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or the appropriate error </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>, <a class="el" href="TeleoEasyLinux_8c-source.html#l00061">TeleoEasy_Init()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00060">TeleoModule_Init()</a>.    </td>
  </tr>
</table>
<a name="a15" doxytag="TeleoChannel.h::TC_sendQueueSizeGet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_sendQueueSizeGet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Provides a way to monitor the size of the queue of messages waiting to be sent.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td>returning queue size </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or the appropriate error </dd></dl>
    </td>
  </tr>
</table>
<a name="a17" doxytag="TeleoChannel.h::TC_timerEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_timerEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ms</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Timer event raised.
<p>
This timer is used for two purposes: to check the condition of the parser resetting it if necessary and to check the state of the send queue - retrying a send if necessary. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the <a class="el" href="structTeleoChannel.html">TeleoChannel</a> </td></tr>
    <tr><td valign=top><em>ms</em>&nbsp;</td><td>approximate time since last event - provided so the timer events don't have to be a fixed interval. Try to get the interval as short as pratical (around 10ms). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or the appropriate error </dd></dl>

<p>
Referenced by <a class="el" href="TeleoEasyLinux_8c-source.html#l00153">doTimer()</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="TeleoChannel.h::TC_timerRequestCallbackSet"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TeleoError_8h.html#a20">TeleoError</a> TC_timerRequestCallbackSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTeleoChannel.html">TeleoChannel</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="TeleoError_8h.html#a20">TeleoError</a>(*&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>timerRequest</em>)(<a class="el" href="structTeleoChannel.html">TeleoChannel</a> *tc, <a class="el" href="TeleoTypes_8h.html#a10">bool</a> enable)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the timerRequest callback.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tc</em>&nbsp;</td><td>the Channel </td></tr>
    <tr><td valign=top><em>timerRequest</em>&nbsp;</td><td>timerRequest function pointer </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TELEO_OK (0) or error code </dd></dl>

<p>
Referenced by <a class="el" href="TeleoChannelTest_8c-source.html#l00044">main()</a>, and <a class="el" href="TeleoModuleLinux_8c-source.html#l00060">TeleoModule_Init()</a>.    </td>
  </tr>
</table>
</font>
<p>&nbsp;</p> 
<table width="100%">
  <tr>
    <td colspan="2" bgcolor="395e7a"> 
      <p align="center"><font color="#FFFFFF" class="small">copyright &copy; 2002, 2003 
        MakingThings LLC</font></p>
    </td>
  </tr>
</table>
 
<p>&nbsp;</p> 
</body>
</html>
